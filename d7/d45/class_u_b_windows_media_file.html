<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Open-Sankoré: UBWindowsMediaFile Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open-Sankoré
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d0/d69/class_u_b_windows_media_file-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">UBWindowsMediaFile Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for UBWindowsMediaFile:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d8/d8b/class_u_b_windows_media_file__coll__graph.svg" width="190" height="496"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4b/struct_u_b_windows_media_file_1_1_marker_info.html">MarkerInfo</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:a8fb19ef55c2c7b9d7e28b4d6c668100e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a8fb19ef55c2c7b9d7e28b4d6c668100e">appendAudioBuffer</a> (WAVEHDR *, long)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7a285d5e38b023d67338b85375554023"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a7a285d5e38b023d67338b85375554023">UBWindowsMediaFile</a> (QObject *pParent=0)</td></tr>
<tr class="memitem:ad24e0567103b5d30ce53b15cc7b2278c"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#ad24e0567103b5d30ce53b15cc7b2278c">~UBWindowsMediaFile</a> ()</td></tr>
<tr class="memitem:a2ec22f721fb8db66d6a54c0830239dc9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a2ec22f721fb8db66d6a54c0830239dc9">init</a> (const QString &amp;videoFileName, const QString &amp;profileData, int pFramesPerSecond, int pixelWidth, int pixelHeight, int bitsPerPixel)</td></tr>
<tr class="memitem:ae0c11e225ab7115cd9a73dc1cb7795db"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a> ()</td></tr>
<tr class="memitem:a1254e9626ed2df7ab83b2b570c687fe7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a1254e9626ed2df7ab83b2b570c687fe7">appendVideoFrame</a> (const QImage &amp;pPix, long msTimeStamp)</td></tr>
<tr class="memitem:aef92398aa853a9cc6999569090c78021"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#aef92398aa853a9cc6999569090c78021">startNewChapter</a> (const QString &amp;pLabel, long timestamp)</td></tr>
<tr class="memitem:a9c25699961d8f7d0437a740ea8b513a6"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a9c25699961d8f7d0437a740ea8b513a6">lastErrorMessage</a> () const </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae31d1fe781748605d4f0bbf3603f3791"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#ae31d1fe781748605d4f0bbf3603f3791">initVideoStream</a> (int pixelWidth, int pixelHeight, int bitsPerPixel)</td></tr>
<tr class="memitem:ae13f7892a4fc270eea4e7551d7271829"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a> (const QString &amp;error)</td></tr>
<tr class="memitem:a47a56804c3125ba397d29ab7baf1c3b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a47a56804c3125ba397d29ab7baf1c3b8">releaseWMObjects</a> ()</td></tr>
<tr class="memitem:a576e77e106b016b2688227103d9560b1"><td class="memItemLeft" align="right" valign="top">QWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a576e77e106b016b2688227103d9560b1">msToSampleTime</a> (long ms)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a899c5df746a605f56e7e75f7bad18f37"><td class="memItemLeft" align="right" valign="top">IWMProfile *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a899c5df746a605f56e7e75f7bad18f37">mWMProfile</a></td></tr>
<tr class="memitem:af2a66a76cfb53bbc5d4efa6ac19ad89a"><td class="memItemLeft" align="right" valign="top">IWMWriter *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a></td></tr>
<tr class="memitem:a6592ecffe74c495977de6f856c37e770"><td class="memItemLeft" align="right" valign="top">IWMWriterPushSink *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a6592ecffe74c495977de6f856c37e770">mPushSink</a></td></tr>
<tr class="memitem:a36346dbecbe95c597b656026968de6ff"><td class="memItemLeft" align="right" valign="top">IWMInputMediaProps *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a36346dbecbe95c597b656026968de6ff">mWMInputVideoProps</a></td></tr>
<tr class="memitem:a74645a36a2c6f7a344ed00f80c1d22ce"><td class="memItemLeft" align="right" valign="top">IWMInputMediaProps *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a74645a36a2c6f7a344ed00f80c1d22ce">mWMInputAudioProps</a></td></tr>
<tr class="memitem:a1eff308210a239622b867ce8972bd81e"><td class="memItemLeft" align="right" valign="top">IWMProfileManager *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a1eff308210a239622b867ce8972bd81e">mWMProfileManager</a></td></tr>
<tr class="memitem:a489cd991fb1fc594975edb913a0148e9"><td class="memItemLeft" align="right" valign="top">HDC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a489cd991fb1fc594975edb913a0148e9">mWMhDC</a></td></tr>
<tr class="memitem:a6be56adc383a876d15704a4f2445f22a"><td class="memItemLeft" align="right" valign="top">DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a6be56adc383a876d15704a4f2445f22a">mVideoInputIndex</a></td></tr>
<tr class="memitem:ae6f6a5b5e16496b3379c9f4e3e8a77e1"><td class="memItemLeft" align="right" valign="top">DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#ae6f6a5b5e16496b3379c9f4e3e8a77e1">mAudioInputIndex</a></td></tr>
<tr class="memitem:a37506a61593ec6d8980a7b0fd5e07e01"><td class="memItemLeft" align="right" valign="top">DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a37506a61593ec6d8980a7b0fd5e07e01">mFramesPerSecond</a></td></tr>
<tr class="memitem:a3b54e7191a8864d6f659dc2866b8db90"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a3b54e7191a8864d6f659dc2866b8db90">mLastErrorMessage</a></td></tr>
<tr class="memitem:a9963c638b51bd5778c13735f8579eff1"><td class="memItemLeft" align="right" valign="top">QList&lt; <a class="el" href="../../d6/d4b/struct_u_b_windows_media_file_1_1_marker_info.html">MarkerInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a9963c638b51bd5778c13735f8579eff1">mChapters</a></td></tr>
<tr class="memitem:a1c1a12638e8d3da5c55e5fe5f9ce5795"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d45/class_u_b_windows_media_file.html#a1c1a12638e8d3da5c55e5fe5f9ce5795">mVideoFileName</a></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00032">32</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7a285d5e38b023d67338b85375554023"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UBWindowsMediaFile::UBWindowsMediaFile </td>
          <td>(</td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>pParent</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html#l00032">32</a> of file <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html">UBWindowsMediaFile.cpp</a>.</p>
<div class="fragment"><div class="line">    : QObject(pParent)</div>
<div class="line">    , <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a489cd991fb1fc594975edb913a0148e9">mWMhDC</a>(0)</div>
<div class="line">    , <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>(0)</div>
<div class="line">    , <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a6592ecffe74c495977de6f856c37e770">mPushSink</a>(0)</div>
<div class="line">    , <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a6be56adc383a876d15704a4f2445f22a">mVideoInputIndex</a>(0)</div>
<div class="line">    , <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a899c5df746a605f56e7e75f7bad18f37">mWMProfile</a>(0)</div>
<div class="line">    , <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a36346dbecbe95c597b656026968de6ff">mWMInputVideoProps</a>(0)</div>
<div class="line">    , <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a74645a36a2c6f7a344ed00f80c1d22ce">mWMInputAudioProps</a>(0)</div>
<div class="line">    , <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a1eff308210a239622b867ce8972bd81e">mWMProfileManager</a>(0)</div>
<div class="line">    , <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a37506a61593ec6d8980a7b0fd5e07e01">mFramesPerSecond</a>(-1)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// NOOP</span></div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad24e0567103b5d30ce53b15cc7b2278c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">UBWindowsMediaFile::~UBWindowsMediaFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html#l00242">242</a> of file <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html">UBWindowsMediaFile.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="comment">// NOOP</span></div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a8fb19ef55c2c7b9d7e28b4d6c668100e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBWindowsMediaFile::appendAudioBuffer </td>
          <td>(</td>
          <td class="paramtype">WAVEHDR *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>mstimestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html#l00418">418</a> of file <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html">UBWindowsMediaFile.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    INSSBuffer *sampleBuffer = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>-&gt;AllocateSample(buffer-&gt;dwBytesRecorded, &amp;sampleBuffer)))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to allocate memory for new audio frame&quot;</span>);</div>
<div class="line">        return ;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    BYTE *rawBuffer = 0;</div>
<div class="line">    DWORD rawBufferLength = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(sampleBuffer-&gt;GetBufferAndLength(&amp;rawBuffer, &amp;rawBufferLength)))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to lock audio frame buffer&quot;</span>);</div>
<div class="line">        sampleBuffer-&gt;Release();</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    memcpy((<span class="keywordtype">void</span>*) rawBuffer, buffer-&gt;lpData, rawBufferLength);</div>
<div class="line"></div>
<div class="line">    HRESULT hrWriteSample = <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>-&gt;WriteSample(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae6f6a5b5e16496b3379c9f4e3e8a77e1">mAudioInputIndex</a>, <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a576e77e106b016b2688227103d9560b1">msToSampleTime</a>(mstimestamp), 0, sampleBuffer);</div>
<div class="line"></div>
<div class="line">    sampleBuffer-&gt;Release();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(hrWriteSample))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to write audio buffer&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a3b54e7191a8864d6f659dc2866b8db90">mLastErrorMessage</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"></div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/d45/class_u_b_windows_media_file_a8fb19ef55c2c7b9d7e28b4d6c668100e_cgraph.svg" width="366" height="126"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1254e9626ed2df7ab83b2b570c687fe7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UBWindowsMediaFile::appendVideoFrame </td>
          <td>(</td>
          <td class="paramtype">const QImage &amp;&#160;</td>
          <td class="paramname"><em>pPix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>msTimeStamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html#l00376">376</a> of file <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html">UBWindowsMediaFile.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    Q_ASSERT(pImage.format() == QImage::Format_RGB32);</div>
<div class="line"></div>
<div class="line">    INSSBuffer *sampleBuffer = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>-&gt;AllocateSample(pImage.numBytes(), &amp;sampleBuffer)))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to allocate memory for new video frame&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    BYTE *rawBuffer = 0;</div>
<div class="line">    DWORD rawBufferLength = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(sampleBuffer-&gt;GetBufferAndLength(&amp;rawBuffer, &amp;rawBufferLength)))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to lock video frame buffer&quot;</span>);</div>
<div class="line">        sampleBuffer-&gt;Release();</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">const</span> uchar * imageBuffer = pImage.bits();</div>
<div class="line">    memcpy((<span class="keywordtype">void</span>*) rawBuffer, imageBuffer, pImage.numBytes());</div>
<div class="line"></div>
<div class="line">    HRESULT hrWriteSample = <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>-&gt;WriteSample(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a6be56adc383a876d15704a4f2445f22a">mVideoInputIndex</a>, <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a576e77e106b016b2688227103d9560b1">msToSampleTime</a>(mstimestamp), 0, sampleBuffer);</div>
<div class="line"></div>
<div class="line">    sampleBuffer-&gt;Release();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(hrWriteSample))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to write video frame&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a3b54e7191a8864d6f659dc2866b8db90">mLastErrorMessage</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/d45/class_u_b_windows_media_file_a1254e9626ed2df7ab83b2b570c687fe7_cgraph.svg" width="366" height="126"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae0c11e225ab7115cd9a73dc1cb7795db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UBWindowsMediaFile::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html#l00195">195</a> of file <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html">UBWindowsMediaFile.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (FAILED(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>-&gt;EndWriting()))</div>
<div class="line">        {</div>
<div class="line">            result = <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a6592ecffe74c495977de6f856c37e770">mPushSink</a>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a6592ecffe74c495977de6f856c37e770">mPushSink</a>-&gt;Disconnect();</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a6592ecffe74c495977de6f856c37e770">mPushSink</a>-&gt;EndSession();</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a6592ecffe74c495977de6f856c37e770">mPushSink</a>-&gt;Release();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a9963c638b51bd5778c13735f8579eff1">mChapters</a>.length() &gt; 0)</div>
<div class="line">    {</div>
<div class="line">        IWMMetadataEditor *editor = 0;</div>
<div class="line">        IWMHeaderInfo     *headerInfo = 0;</div>
<div class="line"></div>
<div class="line">        WMCreateEditor(&amp;editor);</div>
<div class="line">        editor-&gt;Open((LPCTSTR) <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a1c1a12638e8d3da5c55e5fe5f9ce5795">mVideoFileName</a>.utf16());</div>
<div class="line">        editor-&gt;QueryInterface(IID_IWMHeaderInfo, (<span class="keywordtype">void</span>**)&amp;headerInfo);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">foreach</span>(MarkerInfo mi, <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a9963c638b51bd5778c13735f8579eff1">mChapters</a>)</div>
<div class="line">        {</div>
<div class="line">            headerInfo-&gt;AddMarker((LPWSTR)mi.label.utf16(),  <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a576e77e106b016b2688227103d9560b1">msToSampleTime</a>(mi.timestamp));</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        editor-&gt;Flush();</div>
<div class="line">        editor-&gt;Close();</div>
<div class="line">        headerInfo-&gt;Release();</div>
<div class="line">        editor-&gt;Release();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a47a56804c3125ba397d29ab7baf1c3b8">releaseWMObjects</a>();</div>
<div class="line"></div>
<div class="line">    CoUninitialize();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/d45/class_u_b_windows_media_file_ae0c11e225ab7115cd9a73dc1cb7795db_cgraph.svg" width="363" height="126"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/d45/class_u_b_windows_media_file_ae0c11e225ab7115cd9a73dc1cb7795db_icgraph.svg" width="363" height="56"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2ec22f721fb8db66d6a54c0830239dc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UBWindowsMediaFile::init </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>videoFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>profileData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pFramesPerSecond</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pixelWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pixelHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bitsPerPixel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html#l00048">48</a> of file <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html">UBWindowsMediaFile.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a37506a61593ec6d8980a7b0fd5e07e01">mFramesPerSecond</a> = pFramesPerSecond;</div>
<div class="line">    <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a1c1a12638e8d3da5c55e5fe5f9ce5795">mVideoFileName</a> = videoFileName;</div>
<div class="line"></div>
<div class="line">    CoInitialize(0);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(WMCreateProfileManager(&amp;<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a1eff308210a239622b867ce8972bd81e">mWMProfileManager</a>)))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to create a WMProfileManager&quot;</span>);</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    IWMProfileManager2 *wmProfileManager = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a1eff308210a239622b867ce8972bd81e">mWMProfileManager</a>-&gt;QueryInterface(IID_IWMProfileManager2, (<span class="keywordtype">void</span>**) &amp;wmProfileManager)))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to query the WMProfileManager for interface WMProfileManager2&quot;</span>);</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    HRESULT hr = wmProfileManager-&gt;SetSystemProfileVersion(WMT_VER_9_0);</div>
<div class="line">    wmProfileManager-&gt;Release();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(hr))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to set WMProfileManager SystemProfileVersion&quot;</span>);</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a1eff308210a239622b867ce8972bd81e">mWMProfileManager</a>-&gt;LoadProfileByData((LPCTSTR) profileData.utf16(), &amp;<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a899c5df746a605f56e7e75f7bad18f37">mWMProfile</a>)))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to load WMProfileManager custom profile&quot;</span>);</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    DWORD streamCount = -1;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a899c5df746a605f56e7e75f7bad18f37">mWMProfile</a>-&gt;GetStreamCount(&amp;streamCount)))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to read mWMProfile stream count&quot;</span>);</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(WMCreateWriter(NULL, &amp;<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>)))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to create WMMediaWriter Object&quot;</span>);</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>-&gt;SetProfile(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a899c5df746a605f56e7e75f7bad18f37">mWMProfile</a>)))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to set WMWriter system profile&quot;</span>);</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    DWORD mediaInputCount = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>-&gt;GetInputCount(&amp;mediaInputCount)))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to get input count for profile&quot;</span>);</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (DWORD i = 0; i &lt; mediaInputCount; i++)</div>
<div class="line">    {</div>
<div class="line">        IWMInputMediaProps* wmInoutMediaProps = 0;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (FAILED(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>-&gt;GetInputProps(i, &amp;wmInoutMediaProps)))</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to get WMWriter input properties&quot;</span>);</div>
<div class="line">            <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        GUID guidInputType;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (FAILED(wmInoutMediaProps-&gt;GetType(&amp;guidInputType)))</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to get WMWriter input property type&quot;</span>);</div>
<div class="line">            <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (guidInputType == WMMEDIATYPE_Video)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a36346dbecbe95c597b656026968de6ff">mWMInputVideoProps</a> = wmInoutMediaProps;</div>
<div class="line">            <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a6be56adc383a876d15704a4f2445f22a">mVideoInputIndex</a> = i;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (guidInputType == WMMEDIATYPE_Audio)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a74645a36a2c6f7a344ed00f80c1d22ce">mWMInputAudioProps</a> = wmInoutMediaProps;</div>
<div class="line">            <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae6f6a5b5e16496b3379c9f4e3e8a77e1">mAudioInputIndex</a> = i;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            wmInoutMediaProps-&gt;Release();</div>
<div class="line">            wmInoutMediaProps = 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a36346dbecbe95c597b656026968de6ff">mWMInputVideoProps</a> == 0)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Profile does not accept video input&quot;</span>);</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a74645a36a2c6f7a344ed00f80c1d22ce">mWMInputAudioProps</a> == 0)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Profile does not accept audio input&quot;</span>);</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>-&gt;SetOutputFilename((LPCTSTR) videoFileName.utf16())))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to set the output filename&quot;</span>);</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(!<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae31d1fe781748605d4f0bbf3603f3791">initVideoStream</a>(pixelWidth, pixelHeight, bitsPerPixel))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae0c11e225ab7115cd9a73dc1cb7795db">close</a>();</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>-&gt;BeginWriting()))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to initialize video frame writing&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/d45/class_u_b_windows_media_file_a2ec22f721fb8db66d6a54c0830239dc9_cgraph.svg" width="566" height="210"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae31d1fe781748605d4f0bbf3603f3791"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool UBWindowsMediaFile::initVideoStream </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pixelWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pixelHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bitsPerPixel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html#l00289">289</a> of file <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html">UBWindowsMediaFile.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    BITMAPINFO bmpInfo;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a489cd991fb1fc594975edb913a0148e9">mWMhDC</a> = CreateCompatibleDC(NULL);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a489cd991fb1fc594975edb913a0148e9">mWMhDC</a> == NULL)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to create a device context&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    ZeroMemory(&amp;bmpInfo, <span class="keyword">sizeof</span>(BITMAPINFO));</div>
<div class="line">    bmpInfo.bmiHeader.biSize = <span class="keyword">sizeof</span>(BITMAPINFOHEADER);</div>
<div class="line">    bmpInfo.bmiHeader.biBitCount = nBitsPerPixel;</div>
<div class="line">    bmpInfo.bmiHeader.biWidth = nFrameWidth;</div>
<div class="line">    bmpInfo.bmiHeader.biHeight = -nFrameHeight;</div>
<div class="line">    bmpInfo.bmiHeader.biPlanes = 1;</div>
<div class="line">    bmpInfo.bmiHeader.biSizeImage = nFrameWidth * nFrameHeight * nBitsPerPixel / 8;</div>
<div class="line">    bmpInfo.bmiHeader.biCompression = BI_RGB;</div>
<div class="line"></div>
<div class="line">    WMVIDEOINFOHEADER videoInfo;</div>
<div class="line">    videoInfo.rcSource.left = 0;</div>
<div class="line">    videoInfo.rcSource.top = 0;</div>
<div class="line">    videoInfo.rcSource.right = nFrameWidth;</div>
<div class="line">    videoInfo.rcSource.bottom = nFrameHeight;</div>
<div class="line">    videoInfo.rcTarget.left = 0;</div>
<div class="line">    videoInfo.rcTarget.top = 0;</div>
<div class="line">    videoInfo.rcTarget.right = nFrameWidth;</div>
<div class="line">    videoInfo.rcTarget.bottom = nFrameHeight;</div>
<div class="line">    videoInfo.dwBitRate = (nFrameWidth * nFrameHeight * bmpInfo.bmiHeader.biBitCount * <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a37506a61593ec6d8980a7b0fd5e07e01">mFramesPerSecond</a>);</div>
<div class="line"></div>
<div class="line">    videoInfo.dwBitErrorRate = 0;</div>
<div class="line">    videoInfo.AvgTimePerFrame = 10000000 / <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a37506a61593ec6d8980a7b0fd5e07e01">mFramesPerSecond</a>;</div>
<div class="line">    memcpy(&amp;(videoInfo.bmiHeader), &amp;bmpInfo.bmiHeader, <span class="keyword">sizeof</span>(BITMAPINFOHEADER));</div>
<div class="line"></div>
<div class="line">    WM_MEDIA_TYPE mt;</div>
<div class="line">    mt.majortype = WMMEDIATYPE_Video;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (bmpInfo.bmiHeader.biCompression == BI_RGB)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (bmpInfo.bmiHeader.biBitCount == 32)</div>
<div class="line">        {</div>
<div class="line">            mt.subtype = WMMEDIASUBTYPE_RGB32;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bmpInfo.bmiHeader.biBitCount == 24)</div>
<div class="line">        {</div>
<div class="line">            mt.subtype = WMMEDIASUBTYPE_RGB24;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bmpInfo.bmiHeader.biBitCount == 16)</div>
<div class="line">        {</div>
<div class="line">            mt.subtype = WMMEDIASUBTYPE_RGB555;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bmpInfo.bmiHeader.biBitCount == 8)</div>
<div class="line">        {</div>
<div class="line">            mt.subtype = WMMEDIASUBTYPE_RGB8;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            mt.subtype = GUID_NULL;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    mt.bFixedSizeSamples = <span class="keyword">false</span>;</div>
<div class="line">    mt.bTemporalCompression = <span class="keyword">false</span>;</div>
<div class="line">    mt.lSampleSize = 0;</div>
<div class="line">    mt.formattype = WMFORMAT_VideoInfo;</div>
<div class="line">    mt.pUnk = NULL;</div>
<div class="line">    mt.cbFormat = <span class="keyword">sizeof</span>(WMVIDEOINFOHEADER);</div>
<div class="line">    mt.pbFormat = (BYTE*) &amp;videoInfo;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a36346dbecbe95c597b656026968de6ff">mWMInputVideoProps</a>-&gt;SetMediaType(&amp;mt)))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to set the  video media type&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (FAILED(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>-&gt;SetInputProps(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a6be56adc383a876d15704a4f2445f22a">mVideoInputIndex</a>, <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a36346dbecbe95c597b656026968de6ff">mWMInputVideoProps</a>)))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#ae13f7892a4fc270eea4e7551d7271829">setLastErrorMessage</a>(<span class="stringliteral">&quot;Unable to set the input properties for WMMediaWriter&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/d45/class_u_b_windows_media_file_ae31d1fe781748605d4f0bbf3603f3791_cgraph.svg" width="366" height="56"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/d45/class_u_b_windows_media_file_ae31d1fe781748605d4f0bbf3603f3791_icgraph.svg" width="363" height="56"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9c25699961d8f7d0437a740ea8b513a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString UBWindowsMediaFile::lastErrorMessage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00050">50</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>
<div class="fragment"><div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a3b54e7191a8864d6f659dc2866b8db90">mLastErrorMessage</a>;</div>
<div class="line">        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a576e77e106b016b2688227103d9560b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QWORD UBWindowsMediaFile::msToSampleTime </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00067">67</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>
<div class="fragment"><div class="line">        {</div>
<div class="line">            QWORD qwordMs = ms;</div>
<div class="line">            <span class="keywordflow">return</span> (qwordMs * 10000);</div>
<div class="line">        }</div>
</div><!-- fragment -->
<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/d45/class_u_b_windows_media_file_a576e77e106b016b2688227103d9560b1_icgraph.svg" width="563" height="195"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a47a56804c3125ba397d29ab7baf1c3b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBWindowsMediaFile::releaseWMObjects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html#l00248">248</a> of file <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html">UBWindowsMediaFile.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a36346dbecbe95c597b656026968de6ff">mWMInputVideoProps</a>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a36346dbecbe95c597b656026968de6ff">mWMInputVideoProps</a>-&gt;Release();</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a36346dbecbe95c597b656026968de6ff">mWMInputVideoProps</a> = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a74645a36a2c6f7a344ed00f80c1d22ce">mWMInputAudioProps</a>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a74645a36a2c6f7a344ed00f80c1d22ce">mWMInputAudioProps</a>-&gt;Release();</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a74645a36a2c6f7a344ed00f80c1d22ce">mWMInputAudioProps</a> = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a>-&gt;Release();</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#af2a66a76cfb53bbc5d4efa6ac19ad89a">mWMWriter</a> = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a899c5df746a605f56e7e75f7bad18f37">mWMProfile</a>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a899c5df746a605f56e7e75f7bad18f37">mWMProfile</a>-&gt;Release();</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a899c5df746a605f56e7e75f7bad18f37">mWMProfile</a> = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a1eff308210a239622b867ce8972bd81e">mWMProfileManager</a>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a1eff308210a239622b867ce8972bd81e">mWMProfileManager</a>-&gt;Release();</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a1eff308210a239622b867ce8972bd81e">mWMProfileManager</a> = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a489cd991fb1fc594975edb913a0148e9">mWMhDC</a>)</div>
<div class="line">    {</div>
<div class="line">        DeleteDC(<a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a489cd991fb1fc594975edb913a0148e9">mWMhDC</a>);</div>
<div class="line">        <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a489cd991fb1fc594975edb913a0148e9">mWMhDC</a> = 0;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/d45/class_u_b_windows_media_file_a47a56804c3125ba397d29ab7baf1c3b8_icgraph.svg" width="563" height="56"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae13f7892a4fc270eea4e7551d7271829"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBWindowsMediaFile::setLastErrorMessage </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html#l00468">468</a> of file <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html">UBWindowsMediaFile.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a3b54e7191a8864d6f659dc2866b8db90">mLastErrorMessage</a> = error;</div>
<div class="line">    qWarning() &lt;&lt; error;</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/d45/class_u_b_windows_media_file_ae13f7892a4fc270eea4e7551d7271829_icgraph.svg" width="566" height="224"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aef92398aa853a9cc6999569090c78021"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UBWindowsMediaFile::startNewChapter </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>pLabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html#l00458">458</a> of file <a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html">UBWindowsMediaFile.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    MarkerInfo mi;</div>
<div class="line">    mi.label = pLabel;</div>
<div class="line">    mi.timestamp = timestamp;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d7/d45/class_u_b_windows_media_file.html#a9963c638b51bd5778c13735f8579eff1">mChapters</a> &lt;&lt; mi;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="ae6f6a5b5e16496b3379c9f4e3e8a77e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DWORD UBWindowsMediaFile::mAudioInputIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00083">83</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9963c638b51bd5778c13735f8579eff1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt;<a class="el" href="../../d6/d4b/struct_u_b_windows_media_file_1_1_marker_info.html">MarkerInfo</a>&gt; UBWindowsMediaFile::mChapters</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00094">94</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a37506a61593ec6d8980a7b0fd5e07e01"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DWORD UBWindowsMediaFile::mFramesPerSecond</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00084">84</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3b54e7191a8864d6f659dc2866b8db90"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString UBWindowsMediaFile::mLastErrorMessage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00086">86</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6592ecffe74c495977de6f856c37e770"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IWMWriterPushSink* UBWindowsMediaFile::mPushSink</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00075">75</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1c1a12638e8d3da5c55e5fe5f9ce5795"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString UBWindowsMediaFile::mVideoFileName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00096">96</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6be56adc383a876d15704a4f2445f22a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DWORD UBWindowsMediaFile::mVideoInputIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00082">82</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a489cd991fb1fc594975edb913a0148e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HDC UBWindowsMediaFile::mWMhDC</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00081">81</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a74645a36a2c6f7a344ed00f80c1d22ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IWMInputMediaProps* UBWindowsMediaFile::mWMInputAudioProps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00078">78</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a36346dbecbe95c597b656026968de6ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IWMInputMediaProps* UBWindowsMediaFile::mWMInputVideoProps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00077">77</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a899c5df746a605f56e7e75f7bad18f37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IWMProfile* UBWindowsMediaFile::mWMProfile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00073">73</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1eff308210a239622b867ce8972bd81e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IWMProfileManager* UBWindowsMediaFile::mWMProfileManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00079">79</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="af2a66a76cfb53bbc5d4efa6ac19ad89a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IWMWriter* UBWindowsMediaFile::mWMWriter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html#l00074">74</a> of file <a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Sankore-3.1/src/podcast/windowsmedia/<a class="el" href="../../d1/dde/_u_b_windows_media_file_8h_source.html">UBWindowsMediaFile.h</a></li>
<li>Sankore-3.1/src/podcast/windowsmedia/<a class="el" href="../../da/d90/_u_b_windows_media_file_8cpp_source.html">UBWindowsMediaFile.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 1 2013 12:10:34 for Open-Sankoré by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
