<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Open-Sankoré: UBDesktopAnnotationController Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open-Sankoré
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d7/db7/class_u_b_desktop_annotation_controller.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d8/d7a/class_u_b_desktop_annotation_controller-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">UBDesktopAnnotationController Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../db/d64/_u_b_desktop_annotation_controller_8h_source.html">UBDesktopAnnotationController.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for UBDesktopAnnotationController:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d5/d7b/class_u_b_desktop_annotation_controller__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:a49facf34e657a73cc7c6123a24248e1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a49facf34e657a73cc7c6123a24248e1e">screenLayoutChanged</a> ()</td></tr>
<tr class="memitem:a19d0e036a5a690a92731e5f1f47a81a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a19d0e036a5a690a92731e5f1f47a81a2">goToUniboard</a> ()</td></tr>
<tr class="memitem:ae51d5a0076cc7e04d4db8d5881b64c4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#ae51d5a0076cc7e04d4db8d5881b64c4a">customCapture</a> ()</td></tr>
<tr class="memitem:a36e716d542c4fcf7672d61c44b846998"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a36e716d542c4fcf7672d61c44b846998">windowCapture</a> ()</td></tr>
<tr class="memitem:a674888720a2e749717d072657b7f8833"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a674888720a2e749717d072657b7f8833">screenCapture</a> ()</td></tr>
<tr class="memitem:a7192127eaf5ed703bd7746deeda63d25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a7192127eaf5ed703bd7746deeda63d25">updateShowHideState</a> (bool pEnabled)</td></tr>
<tr class="memitem:a8078da5d7de8e9d2b625c97447ca815f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a8078da5d7de8e9d2b625c97447ca815f">close</a> ()</td></tr>
<tr class="memitem:a74acc192dbd8ee18515775c02e0ead44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a74acc192dbd8ee18515775c02e0ead44">stylusToolChanged</a> (int tool)</td></tr>
<tr class="memitem:a79025184efcd68c01efced1ff52228e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a79025184efcd68c01efced1ff52228e7">updateBackground</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:ad414f29c170909d189830f837609fbd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#ad414f29c170909d189830f837609fbd8">imageCaptured</a> (const QPixmap &amp;pCapturedPixmap, bool pageMode)</td></tr>
<tr class="memitem:a83be6f65f308527b3c5cf5a3cf92ae89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a83be6f65f308527b3c5cf5a3cf92ae89">restoreUniboard</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1e31fa6fa39f439312757baadcaae17a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a1e31fa6fa39f439312757baadcaae17a">UBDesktopAnnotationController</a> (QObject *parent, <a class="el" href="../../d9/d48/class_u_b_right_palette.html">UBRightPalette</a> *rightPalette)</td></tr>
<tr class="memitem:a4586ab44f93560378a1cc03d23677699"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a4586ab44f93560378a1cc03d23677699">~UBDesktopAnnotationController</a> ()</td></tr>
<tr class="memitem:a34cdb9c6ce21be6889dcd2e50ce8dc47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a34cdb9c6ce21be6889dcd2e50ce8dc47">showWindow</a> ()</td></tr>
<tr class="memitem:a1f3515627f629611f3fbec84bf4cec15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a1f3515627f629611f3fbec84bf4cec15">hideWindow</a> ()</td></tr>
<tr class="memitem:a6abdbc0febbb1f2b41aadd160a11aeae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dfa/class_u_b_desktop_palette.html">UBDesktopPalette</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a6abdbc0febbb1f2b41aadd160a11aeae">desktopPalette</a> ()</td></tr>
<tr class="memitem:ad1e68fe7e3460252b2512e1589282aad"><td class="memItemLeft" align="right" valign="top">QPainterPath&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#ad1e68fe7e3460252b2512e1589282aad">desktopPalettePath</a> () const </td></tr>
<tr class="memitem:aa448093b170549b879be5a69b23b8245"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d78/class_u_b_board_view.html">UBBoardView</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#aa448093b170549b879be5a69b23b8245">drawingView</a> ()</td></tr>
<tr class="memitem:a297eab60af9df9135db23e67c71f42d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a297eab60af9df9135db23e67c71f42d1">TransparentWidgetResized</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a828b2f9075cb5fa0df02c7bf8d2baf54"><td class="memItemLeft" align="right" valign="top">QPixmap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a828b2f9075cb5fa0df02c7bf8d2baf54">getScreenPixmap</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a11d2fda8abe318d8a9e10f0fc41c4614"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d78/class_u_b_board_view.html">UBBoardView</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a></td></tr>
<tr class="memitem:a58e3a85e54ed2c75e41eb2475300283d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/db2/class_u_b_graphics_scene.html">UBGraphicsScene</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a58e3a85e54ed2c75e41eb2475300283d">mTransparentDrawingScene</a></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The uninotes controller. This object allocate a uninotes window and implements all the actions corresponding to the uninotes button:</p>
<ul>
<li>Go to Uninotes</li>
<li>Custom capture</li>
<li>Window capture</li>
<li>Screen capture </li>
</ul>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1e31fa6fa39f439312757baadcaae17a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UBDesktopAnnotationController::UBDesktopAnnotationController </td>
          <td>(</td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d48/class_u_b_right_palette.html">UBRightPalette</a> *&#160;</td>
          <td class="paramname"><em>rightPalette</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">        : QObject(parent)</div>
<div class="line">        , <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>(0)</div>
<div class="line">        , <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a58e3a85e54ed2c75e41eb2475300283d">mTransparentDrawingScene</a>(0)</div>
<div class="line">        , mDesktopPalette(NULL)</div>
<div class="line">        , mDesktopPenPalette(NULL)</div>
<div class="line">        , mDesktopMarkerPalette(NULL)</div>
<div class="line">        , mDesktopEraserPalette(NULL)</div>
<div class="line">        , mRightPalette(rightPalette)</div>
<div class="line">        , mWindowPositionInitialized(<span class="keyword">false</span>)</div>
<div class="line">        , mIsFullyTransparent(<span class="keyword">false</span>)</div>
<div class="line">        , mDesktopToolsPalettePositioned(<span class="keyword">false</span>)</div>
<div class="line">        , mPendingPenButtonPressed(<span class="keyword">false</span>)</div>
<div class="line">        , mPendingMarkerButtonPressed(<span class="keyword">false</span>)</div>
<div class="line">        , mPendingEraserButtonPressed(<span class="keyword">false</span>)</div>
<div class="line">        , mbArrowClicked(<span class="keyword">false</span>)</div>
<div class="line">        , mBoardStylusTool(<a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#a9d2d10417806a2d7303df24b820f2ab3">UBDrawingController::drawingController</a>()-&gt;stylusTool())</div>
<div class="line">        , mDesktopStylusTool(<a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#a9d2d10417806a2d7303df24b820f2ab3">UBDrawingController::drawingController</a>()-&gt;stylusTool())</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a> = <span class="keyword">new</span> <a class="code" href="../../d1/d78/class_u_b_board_view.html">UBBoardView</a>(<a class="code" href="../../d8/d81/class_u_b_application.html#a34aa9a6616b61208ada7ff5fb228e5ff">UBApplication::boardController</a>, static_cast&lt;QWidget*&gt;(0), <span class="keyword">false</span>, <span class="keyword">true</span>); <span class="comment">// deleted in UBDesktopAnnotationController::destructor</span></div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>-&gt;setAttribute(Qt::WA_TranslucentBackground, <span class="keyword">true</span>);</div>
<div class="line"><span class="preprocessor">#ifdef Q_WS_MAC</span></div>
<div class="line"><span class="preprocessor"></span>    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>-&gt;setAttribute(Qt::WA_MacNoShadow, <span class="keyword">true</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>-&gt;setWindowFlags(Qt::FramelessWindowHint | Qt::WindowStaysOnTopHint | Qt::Window);</div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>-&gt;setCacheMode(QGraphicsView::CacheNone);</div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>-&gt;resize(UBApplication::desktop()-&gt;width(), UBApplication::desktop()-&gt;height());</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>-&gt;setMouseTracking(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>-&gt;setAcceptDrops(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    QString backgroundStyle = <span class="stringliteral">&quot;QWidget {background-color: rgba(127, 127, 127, 0)}&quot;</span>;</div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>-&gt;setStyleSheet(backgroundStyle);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a58e3a85e54ed2c75e41eb2475300283d">mTransparentDrawingScene</a> = <span class="keyword">new</span> <a class="code" href="../../dc/db2/class_u_b_graphics_scene.html">UBGraphicsScene</a>(0, <span class="keyword">false</span>);</div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>-&gt;setScene(<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a58e3a85e54ed2c75e41eb2475300283d">mTransparentDrawingScene</a>);</div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a58e3a85e54ed2c75e41eb2475300283d">mTransparentDrawingScene</a>-&gt;<a class="code" href="../../dc/db2/class_u_b_graphics_scene.html#a9c819f5d1dd2c630c8bb62c11d17fa5f">setDrawingMode</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    mDesktopPalette = <span class="keyword">new</span> <a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html">UBDesktopPalette</a>(<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>, rightPalette); </div>
<div class="line">    <span class="comment">// This was not fix, parent reverted</span></div>
<div class="line">    <span class="comment">// FIX #633: The palette must be &#39;floating&#39; in order to stay on top of the library palette</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d99/class_u_b_platform_utils.html#a315df832d127b0b3491e9088643bd74e">UBPlatformUtils::hasVirtualKeyboard</a>())</div>
<div class="line">    {</div>
<div class="line">        connect( <a class="code" href="../../d8/d81/class_u_b_application.html#a34aa9a6616b61208ada7ff5fb228e5ff">UBApplication::boardController</a>-&gt;paletteManager()-&gt;mKeyboardPalette, SIGNAL(keyboardActivated(<span class="keywordtype">bool</span>)), </div>
<div class="line">                 <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>, SLOT(virtualKeyboardActivated(<span class="keywordtype">bool</span>)));</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef Q_WS_X11</span></div>
<div class="line"><span class="preprocessor"></span>        connect(<a class="code" href="../../d8/d81/class_u_b_application.html#a34aa9a6616b61208ada7ff5fb228e5ff">UBApplication::boardController</a>-&gt;paletteManager()-&gt;mKeyboardPalette, SIGNAL(moved(QPoint)), <span class="keyword">this</span>, SLOT(refreshMask()));</div>
<div class="line">        connect(<a class="code" href="../../d8/d81/class_u_b_application.html#a369dfaccbdf3a0089ca67f093a7fd31d">UBApplication::mainWindow</a>-&gt;actionVirtualKeyboard, SIGNAL(triggered(<span class="keywordtype">bool</span>)), <span class="keyword">this</span>, SLOT(refreshMask()));</div>
<div class="line">        connect(mDesktopPalette,SIGNAL(refreshMask()), <span class="keyword">this</span>, SLOT(refreshMask()));</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    }</div>
<div class="line"></div>
<div class="line">    connect(mDesktopPalette, SIGNAL(uniboardClick()), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a19d0e036a5a690a92731e5f1f47a81a2">goToUniboard</a>()));</div>
<div class="line">    connect(mDesktopPalette, SIGNAL(customClick()), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#ae51d5a0076cc7e04d4db8d5881b64c4a">customCapture</a>()));</div>
<div class="line">    connect(mDesktopPalette, SIGNAL(windowClick()), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a36e716d542c4fcf7672d61c44b846998">windowCapture</a>()));</div>
<div class="line">    connect(mDesktopPalette, SIGNAL(screenClick()), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a674888720a2e749717d072657b7f8833">screenCapture</a>()));</div>
<div class="line">    connect(<a class="code" href="../../d8/d81/class_u_b_application.html#a369dfaccbdf3a0089ca67f093a7fd31d">UBApplication::mainWindow</a>-&gt;actionPointer, SIGNAL(triggered()), <span class="keyword">this</span>, SLOT(onToolClicked()));</div>
<div class="line">    connect(<a class="code" href="../../d8/d81/class_u_b_application.html#a369dfaccbdf3a0089ca67f093a7fd31d">UBApplication::mainWindow</a>-&gt;actionSelector, SIGNAL(triggered()), <span class="keyword">this</span>, SLOT(onToolClicked()));</div>
<div class="line">    connect(mDesktopPalette, SIGNAL(maximized()), <span class="keyword">this</span>, SLOT(onDesktopPaletteMaximized()));</div>
<div class="line">    connect(mDesktopPalette, SIGNAL(minimizeStart(<a class="code" href="../../d5/d6f/_u_b_floating_palette_8h.html#ac8adc001960a33bd6c76686f775bd7eb">eMinimizedLocation</a>)), <span class="keyword">this</span>, SLOT(onDesktopPaletteMinimize()));</div>
<div class="line"></div>
<div class="line">    connect(<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>, SIGNAL(resized(QResizeEvent*)), <span class="keyword">this</span>, SLOT(onTransparentWidgetResized()));</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    connect(<a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#a9d2d10417806a2d7303df24b820f2ab3">UBDrawingController::drawingController</a>(), SIGNAL(<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a74acc192dbd8ee18515775c02e0ead44">stylusToolChanged</a>(<span class="keywordtype">int</span>)), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a74acc192dbd8ee18515775c02e0ead44">stylusToolChanged</a>(<span class="keywordtype">int</span>)));</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Add the desktop associated palettes</span></div>
<div class="line">    mDesktopPenPalette = <span class="keyword">new</span> <a class="code" href="../../de/dd8/class_u_b_desktop_pen_palette.html">UBDesktopPenPalette</a>(<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>, rightPalette); </div>
<div class="line"></div>
<div class="line">    connect(mDesktopPalette, SIGNAL(maximized()), mDesktopPenPalette, SLOT(onParentMaximized()));</div>
<div class="line">    connect(mDesktopPalette, SIGNAL(minimizeStart(<a class="code" href="../../d5/d6f/_u_b_floating_palette_8h.html#ac8adc001960a33bd6c76686f775bd7eb">eMinimizedLocation</a>)), mDesktopPenPalette, SLOT(onParentMinimized()));</div>
<div class="line"></div>
<div class="line">    mDesktopMarkerPalette = <span class="keyword">new</span> <a class="code" href="../../dc/d7b/class_u_b_desktop_marker_palette.html">UBDesktopMarkerPalette</a>(<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>, rightPalette);</div>
<div class="line">    mDesktopEraserPalette = <span class="keyword">new</span> <a class="code" href="../../d5/d5e/class_u_b_desktop_eraser_palette.html">UBDesktopEraserPalette</a>(<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>, rightPalette);</div>
<div class="line"></div>
<div class="line">    mDesktopPalette-&gt;<a class="code" href="../../d1/d97/class_u_b_floating_palette.html#a958e98a7fb70246060feece368d7b348">setBackgroundBrush</a>(<a class="code" href="../../db/d66/class_u_b_settings.html#a0d8ed418921c2b2d37851faeae00715d">UBSettings::settings</a>()-&gt;opaquePaletteColor);</div>
<div class="line">    mDesktopPenPalette-&gt;<a class="code" href="../../d1/d97/class_u_b_floating_palette.html#a958e98a7fb70246060feece368d7b348">setBackgroundBrush</a>(<a class="code" href="../../db/d66/class_u_b_settings.html#a0d8ed418921c2b2d37851faeae00715d">UBSettings::settings</a>()-&gt;opaquePaletteColor);</div>
<div class="line">    mDesktopMarkerPalette-&gt;<a class="code" href="../../d1/d97/class_u_b_floating_palette.html#a958e98a7fb70246060feece368d7b348">setBackgroundBrush</a>(<a class="code" href="../../db/d66/class_u_b_settings.html#a0d8ed418921c2b2d37851faeae00715d">UBSettings::settings</a>()-&gt;opaquePaletteColor);</div>
<div class="line">    mDesktopEraserPalette-&gt;<a class="code" href="../../d1/d97/class_u_b_floating_palette.html#a958e98a7fb70246060feece368d7b348">setBackgroundBrush</a>(<a class="code" href="../../db/d66/class_u_b_settings.html#a0d8ed418921c2b2d37851faeae00715d">UBSettings::settings</a>()-&gt;opaquePaletteColor);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Hack : the size of the property palettes is computed the first time the palette is visible</span></div>
<div class="line">    <span class="comment">//        In order to prevent palette overlap on if the desktop palette is on the right of the</span></div>
<div class="line">    <span class="comment">//        screen, a setVisible(true) followed by a setVisible(false) is done.</span></div>
<div class="line">    mDesktopPenPalette-&gt;setVisible(<span class="keyword">true</span>);</div>
<div class="line">    mDesktopMarkerPalette-&gt;setVisible(<span class="keyword">true</span>);</div>
<div class="line">    mDesktopEraserPalette-&gt;setVisible(<span class="keyword">true</span>);</div>
<div class="line">    mDesktopPenPalette-&gt;setVisible(<span class="keyword">false</span>);</div>
<div class="line">    mDesktopMarkerPalette-&gt;setVisible(<span class="keyword">false</span>);</div>
<div class="line">    mDesktopEraserPalette-&gt;setVisible(<span class="keyword">false</span>);</div>
<div class="line"></div>
<div class="line">    connect(<a class="code" href="../../d8/d81/class_u_b_application.html#a369dfaccbdf3a0089ca67f093a7fd31d">UBApplication::mainWindow</a>-&gt;actionEraseDesktopAnnotations, SIGNAL(triggered()), <span class="keyword">this</span>, SLOT(eraseDesktopAnnotations()));</div>
<div class="line"></div>
<div class="line">    connect(&amp;mHoldTimerPen, SIGNAL(timeout()), <span class="keyword">this</span>, SLOT(penActionReleased()));</div>
<div class="line">    connect(&amp;mHoldTimerMarker, SIGNAL(timeout()), <span class="keyword">this</span>, SLOT(markerActionReleased()));</div>
<div class="line">    connect(&amp;mHoldTimerEraser, SIGNAL(timeout()), <span class="keyword">this</span>, SLOT(eraserActionReleased()));</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef Q_WS_X11</span></div>
<div class="line"><span class="preprocessor"></span>    connect(mDesktopPalette, SIGNAL(moving()), <span class="keyword">this</span>, SLOT(refreshMask()));</div>
<div class="line">    connect(<a class="code" href="../../d8/d81/class_u_b_application.html#a34aa9a6616b61208ada7ff5fb228e5ff">UBApplication::boardController</a>-&gt;paletteManager()-&gt;rightPalette(), SIGNAL(resized()), <span class="keyword">this</span>, SLOT(refreshMask()));</div>
<div class="line">    connect(<a class="code" href="../../d8/d81/class_u_b_application.html#a34aa9a6616b61208ada7ff5fb228e5ff">UBApplication::boardController</a>-&gt;paletteManager()-&gt;addItemPalette(), SIGNAL(closed()), <span class="keyword">this</span>, SLOT(refreshMask()));</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    onDesktopPaletteMaximized();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// FIX #633: Ensure that these palettes stay on top of the other elements</span></div>
<div class="line">    <span class="comment">//mDesktopEraserPalette-&gt;raise();</span></div>
<div class="line">    <span class="comment">//mDesktopMarkerPalette-&gt;raise();</span></div>
<div class="line">    <span class="comment">//mDesktopPenPalette-&gt;raise();</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a1e31fa6fa39f439312757baadcaae17a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4586ab44f93560378a1cc03d23677699"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">UBDesktopAnnotationController::~UBDesktopAnnotationController </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keyword">delete</span> <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a58e3a85e54ed2c75e41eb2475300283d">mTransparentDrawingScene</a>;</div>
<div class="line">    <span class="keyword">delete</span> <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a8078da5d7de8e9d2b625c97447ca815f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="comment">// NOOP</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a8078da5d7de8e9d2b625c97447ca815f_icgraph.svg" width="430" height="56"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae51d5a0076cc7e04d4db8d5881b64c4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::customCapture </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">        onToolClicked();</div>
<div class="line">    mIsFullyTransparent = <span class="keyword">true</span>;</div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a79025184efcd68c01efced1ff52228e7">updateBackground</a>();</div>
<div class="line"></div>
<div class="line">    mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#a9e068a68eeff31e33838739ca5334a11">disappearForCapture</a>();</div>
<div class="line">    <a class="code" href="../../d1/d5d/class_u_b_custom_capture_window.html">UBCustomCaptureWindow</a> customCaptureWindow(mDesktopPalette);</div>
<div class="line">    <span class="comment">// need to show the window before execute it to avoid some glitch on windows.</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef Q_WS_WIN // Working only without this call on win32 desktop mode</span></div>
<div class="line"><span class="preprocessor"></span>    customCaptureWindow.show();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    <span class="keywordflow">if</span> (customCaptureWindow.execute(<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a828b2f9075cb5fa0df02c7bf8d2baf54">getScreenPixmap</a>()) == QDialog::Accepted)</div>
<div class="line">    {</div>
<div class="line">        QPixmap selectedPixmap = customCaptureWindow.getSelectedPixmap();</div>
<div class="line">        emit <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#ad414f29c170909d189830f837609fbd8">imageCaptured</a>(selectedPixmap, <span class="keyword">false</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#abc0075678884edd5de996c325221b70c">appear</a>();</div>
<div class="line"></div>
<div class="line">    mIsFullyTransparent = <span class="keyword">false</span>;</div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a79025184efcd68c01efced1ff52228e7">updateBackground</a>();</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_ae51d5a0076cc7e04d4db8d5881b64c4a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_ae51d5a0076cc7e04d4db8d5881b64c4a_icgraph.svg" width="483" height="56"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6abdbc0febbb1f2b41aadd160a11aeae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dfa/class_u_b_desktop_palette.html">UBDesktopPalette</a> * UBDesktopAnnotationController::desktopPalette </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> mDesktopPalette;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad1e68fe7e3460252b2512e1589282aad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPainterPath UBDesktopAnnotationController::desktopPalettePath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    QPainterPath result;</div>
<div class="line">    <span class="keywordflow">if</span> (mDesktopPalette &amp;&amp; mDesktopPalette-&gt;isVisible()) {</div>
<div class="line">        result.addRect(mDesktopPalette-&gt;geometry());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (mDesktopPenPalette &amp;&amp; mDesktopPenPalette-&gt;isVisible()) {</div>
<div class="line">        result.addRect(mDesktopPenPalette-&gt;geometry());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (mDesktopMarkerPalette &amp;&amp; mDesktopMarkerPalette-&gt;isVisible()) {</div>
<div class="line">        result.addRect(mDesktopMarkerPalette-&gt;geometry());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (mDesktopEraserPalette &amp;&amp; mDesktopEraserPalette-&gt;isVisible()) {</div>
<div class="line">        result.addRect(mDesktopEraserPalette-&gt;geometry());</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa448093b170549b879be5a69b23b8245"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d78/class_u_b_board_view.html">UBBoardView</a> * UBDesktopAnnotationController::drawingView </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_aa448093b170549b879be5a69b23b8245_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a828b2f9075cb5fa0df02c7bf8d2baf54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QPixmap UBDesktopAnnotationController::getScreenPixmap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    QDesktopWidget *desktop = QApplication::desktop();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// we capture the screen in which the mouse is.</span></div>
<div class="line">    <span class="keyword">const</span> QRect primaryScreenRect = desktop-&gt;screenGeometry(QCursor::pos());</div>
<div class="line">    QCoreApplication::flush();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> QPixmap::grabWindow(desktop-&gt;winId(), primaryScreenRect.x()</div>
<div class="line">                               , primaryScreenRect.y(), primaryScreenRect.width(), primaryScreenRect.height());</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a828b2f9075cb5fa0df02c7bf8d2baf54_icgraph.svg" width="100%" height="394"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a19d0e036a5a690a92731e5f1f47a81a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::goToUniboard </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">        onToolClicked();</div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a1f3515627f629611f3fbec84bf4cec15">hideWindow</a>();</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d4/d99/class_u_b_platform_utils.html#a8109e9ed9d624def6b73a88706adf215">UBPlatformUtils::setDesktopMode</a>(<span class="keyword">false</span>);</div>
<div class="line">    <a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#a9d2d10417806a2d7303df24b820f2ab3">UBDrawingController::drawingController</a>()-&gt;<a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#a3e260cf4d46a9fbefadb3fcd5b68f214">setInDestopMode</a>(<span class="keyword">false</span>);</div>
<div class="line"></div>
<div class="line">    emit <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a83be6f65f308527b3c5cf5a3cf92ae89">restoreUniboard</a>();</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a19d0e036a5a690a92731e5f1f47a81a2_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a19d0e036a5a690a92731e5f1f47a81a2_icgraph.svg" width="483" height="56"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f3515627f629611f3fbec84bf4cec15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::hideWindow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>)</div>
<div class="line">        <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>-&gt;hide();</div>
<div class="line"></div>
<div class="line">    mDesktopPalette-&gt;hide();</div>
<div class="line"></div>
<div class="line">    mDesktopStylusTool = <a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#a9d2d10417806a2d7303df24b820f2ab3">UBDrawingController::drawingController</a>()-&gt;<a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#a244d6a9a4638309428bcf0c29531b872">stylusTool</a>();</div>
<div class="line">    <a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#a9d2d10417806a2d7303df24b820f2ab3">UBDrawingController::drawingController</a>()-&gt;<a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#ac5790e8e77299a58ba6f2692133b7009">setStylusTool</a>(mBoardStylusTool);</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a1f3515627f629611f3fbec84bf4cec15_cgraph.svg" width="648" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a1f3515627f629611f3fbec84bf4cec15_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad414f29c170909d189830f837609fbd8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::imageCaptured </td>
          <td>(</td>
          <td class="paramtype">const QPixmap &amp;&#160;</td>
          <td class="paramname"><em>pCapturedPixmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pageMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This signal is emitted once the screenshot has been performed. This signal is also emitted when user click on go to uniboard button. In this case pCapturedPixmap is an empty pixmap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCapturedPixmap</td><td>QPixmap corresponding to the capture. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_ad414f29c170909d189830f837609fbd8_icgraph.svg" width="100%" height="446"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a83be6f65f308527b3c5cf5a3cf92ae89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::restoreUniboard </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a83be6f65f308527b3c5cf5a3cf92ae89_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a674888720a2e749717d072657b7f8833"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::screenCapture </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    onToolClicked();</div>
<div class="line">    mIsFullyTransparent = <span class="keyword">true</span>;</div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a79025184efcd68c01efced1ff52228e7">updateBackground</a>();</div>
<div class="line"></div>
<div class="line">    mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#a9e068a68eeff31e33838739ca5334a11">disappearForCapture</a>();</div>
<div class="line"></div>
<div class="line">    QPixmap originalPixmap = <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a828b2f9075cb5fa0df02c7bf8d2baf54">getScreenPixmap</a>();</div>
<div class="line"></div>
<div class="line">    mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#abc0075678884edd5de996c325221b70c">appear</a>();</div>
<div class="line"></div>
<div class="line">    emit <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#ad414f29c170909d189830f837609fbd8">imageCaptured</a>(originalPixmap, <span class="keyword">false</span>);</div>
<div class="line"></div>
<div class="line">    mIsFullyTransparent = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a79025184efcd68c01efced1ff52228e7">updateBackground</a>();</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a674888720a2e749717d072657b7f8833_cgraph.svg" width="100%" height="538"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a674888720a2e749717d072657b7f8833_icgraph.svg" width="483" height="56"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a49facf34e657a73cc7c6123a24248e1e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::screenLayoutChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d81/class_u_b_application.html#a9ef16693fe3a6bf576b1e86c8fead18e">UBApplication::applicationController</a> &amp;&amp;</div>
<div class="line">            <a class="code" href="../../d8/d81/class_u_b_application.html#a9ef16693fe3a6bf576b1e86c8fead18e">UBApplication::applicationController</a>-&gt;displayManager() &amp;&amp;</div>
<div class="line">            <a class="code" href="../../d8/d81/class_u_b_application.html#a9ef16693fe3a6bf576b1e86c8fead18e">UBApplication::applicationController</a>-&gt;displayManager()-&gt;hasDisplay())</div>
<div class="line">    {</div>
<div class="line">        mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#a51056d43f888c39ee592e174aac14fe5">setShowHideButtonVisible</a>(<span class="keyword">true</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#a51056d43f888c39ee592e174aac14fe5">setShowHideButtonVisible</a>(<span class="keyword">false</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a49facf34e657a73cc7c6123a24248e1e_cgraph.svg" width="459" height="56"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a34cdb9c6ce21be6889dcd2e50ce8dc47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::showWindow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#a0132b7753267b61b686e38c9e78339d7">setDisplaySelectButtonVisible</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    connect(<a class="code" href="../../d8/d81/class_u_b_application.html#a9ef16693fe3a6bf576b1e86c8fead18e">UBApplication::applicationController</a>, SIGNAL(desktopMode(<span class="keywordtype">bool</span>))</div>
<div class="line">            , mDesktopPalette, SLOT(setDisplaySelectButtonVisible(<span class="keywordtype">bool</span>)));</div>
<div class="line"></div>
<div class="line">    mDesktopPalette-&gt;show();</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">bool</span> showDisplay = <a class="code" href="../../db/d66/class_u_b_settings.html#a0d8ed418921c2b2d37851faeae00715d">UBSettings::settings</a>()-&gt;<a class="code" href="../../db/d66/class_u_b_settings.html#a05cdb824b75f8ef7d150524e23d4bcf7">webShowPageImmediatelyOnMirroredScreen</a>-&gt;<a class="code" href="../../d7/d24/class_u_b_setting.html#afe671b284dd9f1e313e6f27df3ecd2a8">get</a>().toBool();</div>
<div class="line"></div>
<div class="line">    mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#ae18c3f2e1a1cca67dd75a4644785b500">showHideClick</a>(showDisplay);</div>
<div class="line">    mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#ac67643756fbb45337db691a38ec1c5db">updateShowHideState</a>(showDisplay);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (!mWindowPositionInitialized)</div>
<div class="line">    {</div>
<div class="line">        QRect desktopRect = QApplication::desktop()-&gt;screenGeometry(mDesktopPalette-&gt;pos());</div>
<div class="line"></div>
<div class="line">        mDesktopPalette-&gt;move(5, desktopRect.top() + 150);</div>
<div class="line"></div>
<div class="line">        mWindowPositionInitialized = <span class="keyword">true</span>;</div>
<div class="line">        mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#a76e828e82a422ea1d0830888b8911e4e">maximizeMe</a>();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a79025184efcd68c01efced1ff52228e7">updateBackground</a>();</div>
<div class="line"></div>
<div class="line">    mBoardStylusTool = <a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#a9d2d10417806a2d7303df24b820f2ab3">UBDrawingController::drawingController</a>()-&gt;<a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#a244d6a9a4638309428bcf0c29531b872">stylusTool</a>();</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#a9d2d10417806a2d7303df24b820f2ab3">UBDrawingController::drawingController</a>()-&gt;<a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#ac5790e8e77299a58ba6f2692133b7009">setStylusTool</a>(mDesktopStylusTool);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef Q_WS_X11</span></div>
<div class="line"><span class="preprocessor"></span>    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>-&gt;showFullScreen();</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="comment">// this is necessary to avoid unity to hide the panels</span></div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a11d2fda8abe318d8a9e10f0fc41c4614">mTransparentDrawingView</a>-&gt;show();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    <a class="code" href="../../d4/d99/class_u_b_platform_utils.html#a8109e9ed9d624def6b73a88706adf215">UBPlatformUtils::setDesktopMode</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#abc0075678884edd5de996c325221b70c">appear</a>();</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef Q_WS_X11</span></div>
<div class="line"><span class="preprocessor"></span>    updateMask(<span class="keyword">true</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>}</div>
</div><!-- fragment -->
<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a34cdb9c6ce21be6889dcd2e50ce8dc47_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a34cdb9c6ce21be6889dcd2e50ce8dc47_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a74acc192dbd8ee18515775c02e0ead44"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::stylusToolChanged </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    Q_UNUSED(tool);</div>
<div class="line"><span class="comment">//     UBStylusTool::Enum eTool = (UBStylusTool::Enum)tool;</span></div>
<div class="line"><span class="comment">//     if(eTool != UBStylusTool::Selector &amp;&amp; eTool != UBStylusTool::Text)</span></div>
<div class="line"><span class="comment">//     {</span></div>
<div class="line"><span class="comment">//         if(mKeyboardPalette-&gt;m_isVisible)</span></div>
<div class="line"><span class="comment">//             UBApplication::mainWindow-&gt;actionVirtualKeyboard-&gt;activate(QAction::Trigger);</span></div>
<div class="line"><span class="comment">//     }</span></div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a79025184efcd68c01efced1ff52228e7">updateBackground</a>();</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a74acc192dbd8ee18515775c02e0ead44_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a74acc192dbd8ee18515775c02e0ead44_icgraph.svg" width="483" height="56"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a297eab60af9df9135db23e67c71f42d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::TransparentWidgetResized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    onTransparentWidgetResized();</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a297eab60af9df9135db23e67c71f42d1_icgraph.svg" width="664" height="126"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a79025184efcd68c01efced1ff52228e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::updateBackground </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    QBrush newBrush;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (mIsFullyTransparent</div>
<div class="line">            || <a class="code" href="../../d0/d58/class_u_b_drawing_controller.html#a9d2d10417806a2d7303df24b820f2ab3">UBDrawingController::drawingController</a>()-&gt;stylusTool() == <a class="code" href="../../d4/dd7/struct_u_b_stylus_tool.html#acc3e432aa8846d2ec16c6c2d914ce9e9a68529751c1aec797cb07039723dc59b8">UBStylusTool::Selector</a>)</div>
<div class="line">    {</div>
<div class="line">        newBrush = QBrush(Qt::transparent);</div>
<div class="line"><span class="preprocessor">#ifdef Q_WS_X11</span></div>
<div class="line"><span class="preprocessor"></span>        updateMask(<span class="keyword">true</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line"><span class="preprocessor">#if defined(Q_WS_MAC)</span></div>
<div class="line"><span class="preprocessor"></span>        newBrush = QBrush(QColor(127, 127, 127, 15));</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span>        newBrush = QBrush(QColor(127, 127, 127, 1));</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#ifdef Q_WS_X11</span></div>
<div class="line"><span class="preprocessor"></span>        updateMask(<span class="keyword">false</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a58e3a85e54ed2c75e41eb2475300283d">mTransparentDrawingScene</a> &amp;&amp; <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a58e3a85e54ed2c75e41eb2475300283d">mTransparentDrawingScene</a>-&gt;backgroundBrush() != newBrush)</div>
<div class="line">        <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a58e3a85e54ed2c75e41eb2475300283d">mTransparentDrawingScene</a>-&gt;setBackgroundBrush(newBrush);</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a79025184efcd68c01efced1ff52228e7_cgraph.svg" width="414" height="56"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a79025184efcd68c01efced1ff52228e7_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7192127eaf5ed703bd7746deeda63d25"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::updateShowHideState </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pEnabled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">    mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#ac67643756fbb45337db691a38ec1c5db">updateShowHideState</a>(pEnabled);</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a7192127eaf5ed703bd7746deeda63d25_cgraph.svg" width="446" height="56"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a7192127eaf5ed703bd7746deeda63d25_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a36e716d542c4fcf7672d61c44b846998"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UBDesktopAnnotationController::windowCapture </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line">{</div>
<div class="line">        onToolClicked();</div>
<div class="line">    mIsFullyTransparent = <span class="keyword">true</span>;</div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a79025184efcd68c01efced1ff52228e7">updateBackground</a>();</div>
<div class="line"></div>
<div class="line">    mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#a9e068a68eeff31e33838739ca5334a11">disappearForCapture</a>();</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d6/d53/class_u_b_window_capture.html">UBWindowCapture</a> util(<span class="keyword">this</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (util.execute() == QDialog::Accepted)</div>
<div class="line">    {</div>
<div class="line">        QPixmap windowPixmap = util.getCapturedWindow();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// on Mac OS X we can only know that user cancel the operatiion by checking is the image is null</span></div>
<div class="line">        <span class="comment">// because the screencapture utility always return code 0 event if user cancel the application</span></div>
<div class="line">        <span class="keywordflow">if</span> (!windowPixmap.isNull())</div>
<div class="line">        {</div>
<div class="line">            emit <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#ad414f29c170909d189830f837609fbd8">imageCaptured</a>(windowPixmap, <span class="keyword">false</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    mDesktopPalette-&gt;<a class="code" href="../../d7/dfa/class_u_b_desktop_palette.html#abc0075678884edd5de996c325221b70c">appear</a>();</div>
<div class="line"></div>
<div class="line">    mIsFullyTransparent = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d7/db7/class_u_b_desktop_annotation_controller.html#a79025184efcd68c01efced1ff52228e7">updateBackground</a>();</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a36e716d542c4fcf7672d61c44b846998_cgraph.svg" width="100%" height="578"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

<p><div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/db7/class_u_b_desktop_annotation_controller_a36e716d542c4fcf7672d61c44b846998_icgraph.svg" width="483" height="56"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="a58e3a85e54ed2c75e41eb2475300283d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/db2/class_u_b_graphics_scene.html">UBGraphicsScene</a>* UBDesktopAnnotationController::mTransparentDrawingScene</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a11d2fda8abe318d8a9e10f0fc41c4614"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d78/class_u_b_board_view.html">UBBoardView</a>* UBDesktopAnnotationController::mTransparentDrawingView</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Sankore-3.1/src/desktop/<a class="el" href="../../db/d64/_u_b_desktop_annotation_controller_8h_source.html">UBDesktopAnnotationController.h</a></li>
<li>Sankore-3.1/src/desktop/<a class="el" href="../../d1/dfb/_u_b_desktop_annotation_controller_8cpp.html">UBDesktopAnnotationController.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d7/db7/class_u_b_desktop_annotation_controller.html">UBDesktopAnnotationController</a></li>
    <li class="footer">Generated on Fri Nov 1 2013 11:08:53 for Open-Sankoré by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
